<div class="expander-header">
    <mat-icon fontIcon="arrow_drop_down" class="expander-icon" *ngIf="expanded" (click)="expanded = !expanded"></mat-icon>
    <mat-icon fontIcon="arrow_right" class="expander-icon" *ngIf="!expanded" (click)="expanded = !expanded"></mat-icon>
    <span class="expander-title">Model Parameters</span>
</div>
<section class="content-container">
    <section *ngIf="expanded">
        <div class="filter-input-container">
            <input class="filter-input" type="text" [(ngModel)]="filter" name="filterInput" (change)="filterResults()" placeholder="Find...">
            <mat-icon fontIcon="filter_list" matSuffix></mat-icon>
        </div>

        
        <div class="subsection-expander-header">
            <mat-icon fontIcon="arrow_drop_down" class="subsection-expander-icon" *ngIf="inputsExpanded" (click)="inputsExpanded = !inputsExpanded"></mat-icon>
            <mat-icon fontIcon="arrow_right" class="subsection-expander-icon" *ngIf="!inputsExpanded" (click)="inputsExpanded = !inputsExpanded"></mat-icon>
            <span class="subsection-expander-title">Model Inputs / Data Sources</span>
        </div>

        <div *ngIf="inputsExpanded">
            <div *ngFor="let inp of filteredInputs" class="data-source-section">
                <img src="./assets/table.svg">
                <span class="data-source-name">{{inp.name}}</span> 
            </div>
        </div>

        <div class="subsection-expander-header">
            <mat-icon fontIcon="arrow_drop_down" class="subsection-expander-icon" *ngIf="environmentExpanded" (click)="environmentExpanded = !environmentExpanded"></mat-icon>
            <mat-icon fontIcon="arrow_right" class="subsection-expander-icon" *ngIf="!environmentExpanded" (click)="environmentExpanded = !environmentExpanded"></mat-icon>
            <span class="subsection-expander-title">Environment Variables</span>
        </div>
        <div *ngIf="environmentExpanded">
            <div *ngFor="let inp of filteredEnvironments" class="data-source-section">
                <img src="./assets/table.svg">
                <span class="data-source-name">{{inp.name}} - {{inp.representation}}</span> 
            </div>
        </div>

        <div class="subsection-expander-header">
            <mat-icon fontIcon="arrow_drop_down" class="subsection-expander-icon" *ngIf="outputsExpanded" (click)="outputsExpanded = !outputsExpanded"></mat-icon>
            <mat-icon fontIcon="arrow_right" class="subsection-expander-icon" *ngIf="!outputsExpanded" (click)="outputsExpanded = !outputsExpanded"></mat-icon>
            <span class="subsection-expander-title">Model Outputs</span>
        </div>

        <div *ngIf="outputsExpanded">
            <div *ngFor="let inp of filteredOutputs" class="data-source-section">
                <img src="./assets/table.svg">
                <span class="data-source-name">{{inp.name}}</span> 
            </div>
        </div>
    </section>
</section>